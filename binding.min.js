"use strict";var iqwerty=iqwerty||{};iqwerty.binding=function(){function t(e,o,n){n instanceof Array||(n=[n]),n.forEach(function(n){t.prototype.setElementValue(n,e[o]),"input"===n.tagName.toLowerCase()&&n.addEventListener("input",function(){e[o]=n.value}),t.prototype.bound.push({obj:e,prop:o,elem:n,$$id:t.prototype.addObjectId(e)}),t.prototype.setObjects(e.$$id,o,e[o])}),Object.defineProperty(e,o,{get:function(){var n=e.$$id;return t.prototype.objects[n]?t.prototype.objects[n][o]:void 0},set:function(r){n.forEach(function(n){t.prototype.setter(e,o,n,r)})},configurable:!0})}function e(){setTimeout(function(){var e=document.querySelectorAll("["+p+"]");0!==e.length&&[].slice.call(e).forEach(function(e){var o=e.dataset.iqBind,n=new RegExp(i).exec(o);n&&t.prototype.model[n[1]]&&t(t.prototype.model[n[1]],n[2],e)})},0)}function o(){setTimeout(function(){var e=document.querySelectorAll("["+c+"]");if(0!==e.length){var o="iq-bind";[].slice.call(e).forEach(function(e){var n=[],r="{ *?"+i+" *?}";r=new RegExp(r,"g");var p;do p=r.exec(e.innerHTML),p&&n.push({template:p[0],obj:p[1],prop:p[2],id:t.prototype.id++});while(p);n.forEach(function(t){var n=document.createElement("span");n.classList.add(o),n.id=o+"-"+t.id,e.innerHTML=e.innerHTML.replace(t.template,n.outerHTML)}),n.forEach(function(e){t(t.prototype.model[e.obj],e.prop,document.getElementById(o+"-"+e.id))})})}},0)}function n(){e(),o()}function r(e){Object.keys(e).forEach(function(o){t.prototype.model[o]=e[o]})}var i="([a-zA-Z]+).([a-zA-Z]+)",p="data-iq-bind",c="data-iq-bind-scope";return t.prototype.findLink=function(e,o){return t.prototype.bound.filter(function(t){return t.obj.$$id===e.$$id&&t.prop===o})},t.prototype.setElementValue=function(t,e){var o="innerHTML";"input"===t.tagName.toLowerCase()&&(o="value"),t[o]=e,t=null,o=null},t.prototype.id=0,t.prototype.addObjectId=function(e){return void 0!==e.$$id?e.$$id:(e.$$id=t.prototype.id,t.prototype.id++)},t.prototype.setter=function(e,o,n,r){var i=t.prototype.findLink(e,o);i.forEach(function(e){t.prototype.setElementValue(e.elem,r)}),t.prototype.setObjects(e.$$id,o,r),i=null},t.prototype.setObjects=function(e,o,n){t.prototype.objects[e]=t.prototype.objects[e]||{},t.prototype.objects[e][o]=n},t.prototype.bound=[],t.prototype.objects={},t.prototype.model={},{Bind:t,BindAttributes:e,BindHandlebars:o,ParsePage:n,Model:r}}(),document.addEventListener("DOMContentLoaded",iqwerty.binding.ParsePage);