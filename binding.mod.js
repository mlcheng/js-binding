"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}window.require=function e(n,t,r){function i(o,c){if(!t[o]){if(!n[o]){var d="function"==typeof require&&require;if(!c&&d)return d(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[o]={exports:{}};n[o][0].call(f.exports,function(e){var t=n[o][1][e];return i(t?t:e)},f,f.exports,e,n,t,r)}return t[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({"iqwerty-binding":[function(e,n,t){var r=r||{};r.binding=function(){function e(e,n){P[e]=n}function n(e){return P[e]}function t(e){e.hasOwnProperty(_.iqdb)||(e[_.iqdb]={})}function r(e,n){if(!e[_.iqdb].hasOwnProperty(n)){var t;e[_.iqdb][n]=(t={},_defineProperty(t,_.model,e[n]),_defineProperty(t,_.bindings,[]),_defineProperty(t,_.watchers,[]),t)}}function i(e,n,t){var r=e[_.iqdb][n];t.forEach(function(t){var i=r[_.bindings].find(function(e){return e[_.el]===t[_.el]});if(i){var a;t[_.attrs]=t[_.attrs].filter(function(e){return!~i[_.attrs].indexOf(e)}),(a=i[_.attrs]).push.apply(a,_toConsumableArray(t[_.attrs]))}else!function(){r[_.bindings]=r[_.bindings].concat(t);var i=Object.keys(w).find(function(e){return!!t[_.el].parentElement.querySelector(e)});i&&w[i][_.changer].forEach(function(r){t[_.el].addEventListener(r,function(){e[n]=t[_.el][w[i][_.value]]})})}()})}function a(e,n,t){var r,i=e[_.iqdb][n];i[_.watchers]=(r=i[_.watchers]).concat.apply(r,_toConsumableArray(t))}function o(e,n,t,r){t!==r&&e[_.iqdb][n][_.watchers].forEach(function(e){e(t,r)})}function c(e,n){Object.defineProperty(e,n,{get:function(){return e[_.iqdb][n][_.model]},set:function(t){var r=d(e,n);u(e,n,t),f(e,n,t),o(e,n,t,r)}})}function d(e,n){return e[_.iqdb][n][_.model]}function u(e,n,t){e[_.iqdb][n][_.model]=t}function f(e,n,t){null==t&&(t=""),e[_.iqdb][n][_.bindings].forEach(function(e){e[_.attrs].forEach(function(n){var r=e[_.el],i=new RegExp(_.regex.dataset).test(n);if(i){var a=n.replace(new RegExp(_.regex.dataset),"");r.dataset[a]!==t&&(r.dataset[a]=A(t))}else r[n]!==t&&(r[n]=A(t))})})}function s(e,n){return Array.from(n.querySelectorAll("*")).find(function(n){return!n.firstElementChild&&n.textContent===e})||n}function l(e){var n=new RegExp(_.regex.obj,"g"),t=e.innerHTML;t=t.replace(n,function(n){var t=s(n,e);return _.dataset.bindIncomplete.cc in t.dataset?n:"<span "+_.dataset.bindIncomplete.dash+">"+n+"</span>"}),e.innerHTML!==t&&(e.innerHTML=t)}function p(){var e=document.querySelectorAll("["+_.dataset.bindTo.dash+"]");Array.from(e).forEach(function(e){var n=e.dataset[_.dataset.bindTo.cc],t=n.split(";");t.forEach(function(n){var t,r=n.split(":"),i=r[0].split(",");i=i.map(function(e){return e.trim()});var a=y(r[1],_.regex.variable),o=a.obj,c=a.prop;(o||c)&&h(o,c,(t={},_defineProperty(t,_.el,e),_defineProperty(t,_.attrs,i),t))})})}function b(){var e=document.querySelectorAll("["+_.dataset.bind.dash+"]:not(["+_.dataset.bindWrapped.dash+"]"),n=function(e,n,t){var r;(e||n)&&(h(e,n,(r={},_defineProperty(r,_.el,t),_defineProperty(r,_.attrs,["innerHTML"]),r)),delete t.dataset[_.dataset.bindIncomplete.cc])};Array.from(e).forEach(function(e){if(l(e),""!==e.dataset[_.dataset.bind.cc]){var t=y(e.dataset[_.dataset.bind.cc],_.regex.variable),r=t.obj,i=t.prop;n(r,i,e)}e.dataset[_.dataset.bindWrapped.cc]="true"}),e=document.querySelectorAll("["+_.dataset.bindIncomplete.dash+"]"),Array.from(e).forEach(function(e){var t=y(e.innerHTML,_.regex.obj),r=t.obj,i=t.prop;n(r,i,e)})}function y(e,t){var r=new RegExp(t,"g").exec(e),i=r[1].trim().split("."),a=n(i.shift()),o=a,c=void 0;return"undefined"!=typeof a&&i.forEach(function(e,n){n<i.length-1?o=o[e]||o[_.iqdb][e][_.model]:c=e}),{obj:o,prop:c}}function h(e,n,o,u){o=Array.isArray(o)?o:E([o]),u=Array.isArray(u)?u:E([u]),t(e),r(e,n),i(e,n,o),a(e,n,u),c(e,n),f(e,n,d(e,n))}function v(e,n,t){h(e,n,null,t)}function g(n){Object.keys(n).forEach(function(t){e(t,n[t])}),"undefined"!=typeof document&&setTimeout(function(){p(),b()})}var m,q,x,_={iqdb:"__iqdb",model:"model",bindings:"bindings",watchers:"watchers",el:"el",attrs:"attrs",changer:"changer",value:"value",regex:{dataset:"^data-",variable:"([^{}]+)",obj:"{ *?([^{}]+) *?}"},dataset:{bindIncomplete:{cc:"iqBindIncomplete",dash:"data-iq-bind-incomplete"},bindTo:{cc:"iqBindTo",dash:"data-iq-bind-to"},bind:{cc:"iqBind",dash:"data-iq-bind"},bindWrapped:{cc:"iqBindWrapped",dash:"data-iq-bind-wrapped"}}},w={"input:not([type=checkbox])":(m={},_defineProperty(m,_.changer,["change","input"]),_defineProperty(m,_.value,"value"),m),"input[type=checkbox]":(q={},_defineProperty(q,_.changer,["change","input"]),_defineProperty(q,_.value,"checked"),q),textarea:(x={},_defineProperty(x,_.changer,["change","input"]),_defineProperty(x,_.value,"value"),x)},E=function(e){return e.filter(function(e){return e})},A=function(e){return"string"==typeof e||"boolean"==typeof e?e:JSON.stringify(e,null,2)},P={};return{Bind:h,Watch:v,Model:g}}()},{}]},{},["iqwerty-binding"]);